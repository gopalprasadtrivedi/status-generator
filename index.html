<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WhatsApp Status Image Generator</title>
    
    <!-- Google Fonts - Noto Sans & Noto Serif for Hindi + English support -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;500;600;700&family=Noto+Sans:wght@400;500;600;700&family=Noto+Serif+Devanagari:wght@400;500;600;700&family=Noto+Serif:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1>üì± Status Image Maker</h1>
            <p class="tagline">Create beautiful WhatsApp status images</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            
            <!-- Step 1: Theme Selection -->
            <section class="form-section">
                <div class="theme-header">
                    <h2 class="section-title">
                        <span class="step-number">1</span>
                        Choose Theme
                    </h2>
                    <button type="button" id="changeImageBtn" class="change-image-btn" style="display: none;">
                        <span class="btn-icon">üñºÔ∏è</span>
                        Change Image
                    </button>
                </div>
                <div class="theme-grid" id="themeGrid">
                    <button type="button" class="theme-btn active" data-theme="patriotic">
                        <span class="theme-icon">üáÆüá≥</span>
                        <span class="theme-name">Patriotic</span>
                    </button>
                    <button type="button" class="theme-btn" data-theme="religious">
                        <span class="theme-icon">üôè</span>
                        <span class="theme-name">Religious</span>
                    </button>
                    <button type="button" class="theme-btn" data-theme="astrological">
                        <span class="theme-icon">‚≠ê</span>
                        <span class="theme-name">Astrological</span>
                    </button>
                    <button type="button" class="theme-btn" data-theme="motivational">
                        <span class="theme-icon">üí™</span>
                        <span class="theme-name">Motivational</span>
                    </button>
                    <button type="button" class="theme-btn" data-theme="general">
                        <span class="theme-icon">üé®</span>
                        <span class="theme-name">General</span>
                    </button>
                </div>
            </section>

            <!-- Step 2: Template Selection -->
            <section class="form-section">
                <h2 class="section-title">
                    <span class="step-number">2</span>
                    Choose Style
                </h2>
                <div class="template-grid" id="templateGrid">
                    <button type="button" class="template-btn active" data-template="classic">
                        <span class="template-preview classic-preview">Aa</span>
                        <span class="template-name">Classic</span>
                    </button>
                    <button type="button" class="template-btn" data-template="modern">
                        <span class="template-preview modern-preview">Aa</span>
                        <span class="template-name">Modern</span>
                    </button>
                    <button type="button" class="template-btn" data-template="elegant">
                        <span class="template-preview elegant-preview">Aa</span>
                        <span class="template-name">Elegant</span>
                    </button>
                    <button type="button" class="template-btn" data-template="bold">
                        <span class="template-preview bold-preview">Aa</span>
                        <span class="template-name">Bold</span>
                    </button>
                </div>
            </section>

            <!-- Step 3: Text Input -->
            <section class="form-section">
                <h2 class="section-title">
                    <span class="step-number">3</span>
                    Add Your Text
                </h2>
                <p class="section-hint">All fields are optional. Leave empty if not needed.</p>

                <div class="input-group">
                    <label for="titleText">Title (Top)</label>
                    <div class="field-controls">
                        <button type="button" class="font-size-btn" data-field="title" data-action="decrease" title="Decrease font size">A‚àí</button>
                        <button type="button" class="font-size-btn" data-field="title" data-action="increase" title="Increase font size">A+</button>
                        <button type="button" class="position-btn" data-field="title" data-action="up" title="Move up">‚Üë</button>
                        <button type="button" class="position-btn" data-field="title" data-action="down" title="Move down">‚Üì</button>
                        <input type="color" class="color-picker" id="titleColor" data-field="title" value="#FFFFFF" title="Select text color">
                    </div>
                    <textarea 
                        id="titleText" 
                        rows="2"
                        placeholder="e.g., Happy Republic Day / ‡§ó‡§£‡§§‡§Ç‡§§‡•ç‡§∞ ‡§¶‡§ø‡§µ‡§∏"
                    ></textarea>
                </div>

                <div class="input-group">
                    <label for="subtitleText">Subtitle</label>
                    <div class="field-controls">
                        <button type="button" class="font-size-btn" data-field="subtitle" data-action="decrease" title="Decrease font size">A‚àí</button>
                        <button type="button" class="font-size-btn" data-field="subtitle" data-action="increase" title="Increase font size">A+</button>
                        <button type="button" class="position-btn" data-field="subtitle" data-action="up" title="Move up">‚Üë</button>
                        <button type="button" class="position-btn" data-field="subtitle" data-action="down" title="Move down">‚Üì</button>
                        <input type="color" class="color-picker" id="subtitleColor" data-field="subtitle" value="#FFFFFF" title="Select text color">
                    </div>
                    <textarea 
                        id="subtitleText" 
                        rows="2"
                        placeholder="e.g., 26th January 2025"
                    ></textarea>
                </div>

                <div class="input-group">
                    <label for="bodyText1">Main Message (Line 1)</label>
                    <div class="field-controls">
                        <button type="button" class="font-size-btn" data-field="body1" data-action="decrease" title="Decrease font size">A‚àí</button>
                        <button type="button" class="font-size-btn" data-field="body1" data-action="increase" title="Increase font size">A+</button>
                        <button type="button" class="position-btn" data-field="body1" data-action="up" title="Move up">‚Üë</button>
                        <button type="button" class="position-btn" data-field="body1" data-action="down" title="Move down">‚Üì</button>
                        <input type="color" class="color-picker" id="body1Color" data-field="body1" value="#FFFFFF" title="Select text color">
                    </div>
                    <textarea 
                        id="bodyText1" 
                        rows="3"
                        placeholder="e.g., ‡§ú‡§Ø ‡§π‡§ø‡§Ç‡§¶ / Jai Hind"
                    ></textarea>
                </div>

                <div class="input-group">
                    <label for="bodyText2">Main Message (Line 2)</label>
                    <div class="field-controls">
                        <button type="button" class="font-size-btn" data-field="body2" data-action="decrease" title="Decrease font size">A‚àí</button>
                        <button type="button" class="font-size-btn" data-field="body2" data-action="increase" title="Increase font size">A+</button>
                        <button type="button" class="position-btn" data-field="body2" data-action="up" title="Move up">‚Üë</button>
                        <button type="button" class="position-btn" data-field="body2" data-action="down" title="Move down">‚Üì</button>
                        <input type="color" class="color-picker" id="body2Color" data-field="body2" value="#FFFFFF" title="Select text color">
                    </div>
                    <textarea 
                        id="bodyText2" 
                        rows="3"
                        placeholder="e.g., ‡§µ‡§Ç‡§¶‡•á ‡§Æ‡§æ‡§§‡§∞‡§Æ‡•ç / Vande Mataram"
                    ></textarea>
                </div>

                <div class="input-group">
                    <label for="footerText">Footer (Bottom)</label>
                    <div class="field-controls">
                        <button type="button" class="font-size-btn" data-field="footer" data-action="decrease" title="Decrease font size">A‚àí</button>
                        <button type="button" class="font-size-btn" data-field="footer" data-action="increase" title="Increase font size">A+</button>
                        <button type="button" class="position-btn" data-field="footer" data-action="up" title="Move up">‚Üë</button>
                        <button type="button" class="position-btn" data-field="footer" data-action="down" title="Move down">‚Üì</button>
                        <input type="color" class="color-picker" id="footerColor" data-field="footer" value="#FFFFFF" title="Select text color">
                    </div>
                    <textarea 
                        id="footerText" 
                        rows="2"
                        placeholder="e.g., Your Name / ‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ"
                    ></textarea>
                </div>

                <!-- Footer Alignment -->
                <div class="input-group">
                    <label>Footer Position</label>
                    <div class="alignment-options" id="alignmentOptions">
                        <button type="button" class="align-btn" data-align="left">
                            ‚¨ÖÔ∏è Left
                        </button>
                        <button type="button" class="align-btn active" data-align="center">
                            ‚ÜîÔ∏è Center
                        </button>
                        <button type="button" class="align-btn" data-align="right">
                            Right ‚û°Ô∏è
                        </button>
                    </div>
                </div>

                <!-- Overlay Toggle -->
                <div class="input-group">
                    <label class="toggle-label" for="overlayToggle">
                        <span class="custom-checkbox">
                            <input type="checkbox" id="overlayToggle" checked>
                            <span class="checkmark">‚úì</span>
                        </span>
                        <span class="toggle-text">Apply Dark Overlay</span>
                    </label>
                    <p class="toggle-hint">Adds a semi-transparent dark layer over the background image for better text readability</p>
                </div>
            </section>

            <!-- Generate Button -->
            <section class="generate-section">
                <div class="button-group">
                    <button type="button" id="generateBtn" class="generate-btn">
                        <span class="btn-icon">üñºÔ∏è</span>
                        Generate Image
                    </button>
                    <button type="button" id="previewBtn" class="preview-btn">
                        <span class="btn-icon">üëÅÔ∏è</span>
                        Preview
                    </button>
                </div>
                <p class="generate-hint">Image will download automatically</p>
            </section>

            <!-- Loading Indicator -->
            <div id="loadingOverlay" class="loading-overlay hidden">
                <div class="loading-content">
                    <div class="spinner"></div>
                    <p>Creating your image...</p>
                </div>
            </div>

        </main>

        <!-- Image Selection Modal -->
        <div id="imageSelectionModal" class="image-selection-modal hidden">
            <div class="modal-overlay"></div>
            <div class="modal-content image-modal-content">
                <div class="modal-header">
                    <h2>Select Background Image</h2>
                    <button type="button" id="closeImageModalBtn" class="close-btn" aria-label="Close modal">
                        ‚úï
                    </button>
                </div>
                <div class="modal-body image-grid-container">
                    <div id="imageGrid" class="image-grid">
                        <!-- Images will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Preview Modal -->
        <div id="previewModal" class="preview-modal hidden">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Image Preview</h2>
                    <button type="button" id="closeModalBtn" class="close-btn" aria-label="Close modal">
                        ‚úï
                    </button>
                </div>
                <div class="modal-body">
                    <img id="previewImage" src="" alt="Generated image preview" />
                </div>
                <div class="modal-footer">
                    <button type="button" id="downloadFromPreviewBtn" class="download-btn">
                        <span class="btn-icon">‚¨áÔ∏è</span>
                        Download Image
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="app-footer">
            <p>Made with ‚ù§Ô∏è for WhatsApp Status</p>
        </footer>
    </div>

    <!-- Hidden Canvas for Image Generation -->
    <canvas id="imageCanvas" width="1080" height="1920" style="display: none;"></canvas>

    <script src="script.js"></script>
</body>
</html>
